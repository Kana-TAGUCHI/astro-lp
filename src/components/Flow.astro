---
import { Icon } from 'astro-icon';

const flows = [
  { icon: 'flow_01', texts: ['申し込み'] },
  { icon: 'flow_02', texts: ['企業情報', '求人登録'] },
  { icon: 'flow_03', texts: ['ユーザー検索', 'スカウト'] },
  { icon: 'flow_04', texts: ['条件交渉', 'Fit期間開始'] },
  { icon: 'flow_05', texts: ['正社員雇用'] },
];
---

<section id='flow' class='bg-main-50'>
  <div class='section-container'>
    <div class='font-bold text-center'>
      <span class='md:text-lg'>FLOW</span>
      <h2 class='text-2xl md:text-4xl'>人材獲得までの流れ</h2>
    </div>

    <div>
      <p class='font-semibold text-lg text-center mt-8 md:text-3xl'>
        申し込みから、<span
          class='underline decoration-[0.5rem] decoration-red-100 underline-offset-[-0.4rem] text-2xl text-orange-600 md:text-3xl'
          >最短即日</span
        >でご利用可能
      </p>
    </div>

    <div
      class='bg-main-100 rounded-lg py-7 px-5 mt-8 md:mt-10 lg:py-10 lg:px-20'
    >
      <div class='relative'>
        <ul class='flex flex-col gap-8 md:flex-row md:justify-between'>
          {
            flows.map((flow, index) => (
              <li class='flex justify-around items-center md:flex-col-reverse md:justify-between md:gap-8 lg:w-[140px]'>
                <div class='relative w-[52px] h-[52px] rounded-full bg-main-200 flex flex-col justify-center items-center p-2 text-center font-semibold text-main-400 leading-none z-20 md:w-[62px] md:h-[62px]'>
                  <span class='text-xs md:text-2xs'>STEP</span>
                  <div class='text-xl md:text-2xl'>0{index + 1}</div>
                  {index >= 1 && (
                    <div class='absolute w-0.5 bg-gray-300 h-[2rem] -top-[2rem] md:hidden' />
                  )}
                </div>
                <div class='flex w-[200px] gap-4 md:flex-col md:w-auto md:gap-8'>
                  <Icon
                    name={flow.icon}
                    class='w-[50px] md:w-[100px] md:mx-auto'
                  />
                  <ul class='flex flex-col justify-center font-semibold text-lg md:h-[60px] md:justify-start md:text-lg'>
                    {flow.texts.map((text) => (
                      <li>・{text}</li>
                    ))}
                  </ul>
                </div>
              </li>
            ))
          }
        </ul>
        <!-- NOTE: 棒線部分は可変対応のため、SPとは異なるabsolute方法でスタイルを充てている -->
        <div
          class='hidden md:block absolute w-[calc(100%-80px)] bg-gray-300 h-0.5 bottom-[31px] left-[4%] z-10'
        >
        </div>
      </div>
    </div>
  </div>
</section>
